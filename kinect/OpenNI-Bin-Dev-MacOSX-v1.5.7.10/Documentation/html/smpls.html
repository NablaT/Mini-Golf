<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>OpenNI 1.5.7: Sample Programs for the OpenNI API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenNILogo.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNI 1.5.7
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">OpenNI Overview</a></li><li class="navelem"><a class="el" href="smpls_n_guides.html">Samples and Guides</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Sample Programs for the OpenNI API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><pre class="fragment">This OpenNI installation comes with a number of sample programs. All samples are placed under the 'Samples' folder, and their binaries
can be found under:
</pre> <div class="fragment"><div class="line">Samples\\Bin\\Debug</div>
<div class="line"></div>
<div class="line"> - or -</div>
<div class="line"> </div>
<div class="line">Samples\\Bin\\Release</div>
</div><!-- fragment --><p>Most samples use an XML file to configure OpenNI. This file can be found at: </p>
<div class="fragment"><div class="line">%OPEN_NI_INSTALL_DIR\%\\Data\\SamplesConfig.xml&lt;/code&gt;</div>
</div><!-- fragment --><p>There are samples for the C++, C#/.NET and Java interfaces.</p>
<p>This help document describes the sample programs showing how to program with the OpenNI API. Follow the links below for a detailed description of each sample programs.</p>
<ul>
<li><a class="el" href="smpl_audio.html">NiAudioSample.cpp - sample program</a></li>
<li><a class="el" href="smpl_back_recrdr.html">NiBackRecorder.cpp - sample program</a></li>
<li><a class="el" href="smpl_cnvx_to_oni.html">NiConvertXToONI.cpp - sample program</a></li>
<li><a class="el" href="smpl_record_raw.html">NiRecordRaw.cpp - sample program</a></li>
<li><a class="el" href="smpl_record_syn.html">NiRecordSynthetic.cpp - sample program</a></li>
<li><a class="el" href="smpl_simple_create.html">NiSimpleCreate.cpp - sample program</a></li>
<li><a class="el" href="smpl_simple_read.html">NiSimpleRead.cpp - sample program</a></li>
<li><a class="el" href="smpl_simple_view.html">NiSimpleViewer.cpp - sample program</a></li>
<li><a class="el" href="smpl_user_tracker.html">NiUserTracker - sample program</a></li>
<li><a class="el" href="smpl_niviewer.html">NiViewer - sample program</a></li>
<li><a class="el" href="smpl_simple_read_java.html">SimpleRead.java - sample program (Java)</a></li>
<li><a class="el" href="smpl_simple_read_net.html">SimpleRead.net - sample program (C#/.NET)</a></li>
<li><a class="el" href="smpl_simple_view_java.html">SimpleViewer.java - sample program (Java)</a></li>
<li><a class="el" href="smpl_simple_view_net.html">SimpleViewer.net - sample program (C#/.NET)</a></li>
<li><a class="el" href="smpl_user_tracker_java.html">UserTracker.java - sample program (Java)</a></li>
<li><a class="el" href="smpl_user_tracker_net.html">UserTracker.net - sample program (C#)</a></li>
<li><a class="el" href="smpl_handtracker_java.html">HandTracker.java - sample program (java)</a></li>
</ul>
<h1><a class="anchor" id="smpls_overview"></a>
Summary of Sample Programs</h1>
<pre class="fragment">Following are brief descriptions of the basic purpose of some of the main sample programs above. 
</pre><h2><a class="anchor" id="nisimpleread"></a>
NiSimpleRead for C++</h2>
<pre class="fragment">    NiSimpleRead is very basic. It configures OpenNI using the SamplesConfig XML file, and then takes the depth
    generator node (it assumes there is one. If not, the sample will exit with an error).
    It then loops, reading new frames from the depth generator, and prints out the depth value of the middle pixel.
    The sample exists when the user presses 'ESC'.
</pre><h2><a class="anchor" id="nisimplecreate"></a>
NiSimpleCreate for C++</h2>
<pre class="fragment">    NiSimpleCreate is an example of creating a production node programmatically in code, rather than using the 
    SamplesConfig XML file. After creating a depth node, it reads from it like NiSimpleRead does.
</pre><h2><a class="anchor" id="nisimpleviewer"></a>
SimpleViewer for C#/.NET</h2>
<pre class="fragment">    NiSimpleViewer is a small OpenGL application which draws the depth maps and the image maps to the screen.
    It configures OpenNI using the SamplesConfig XML, but requires both a DepthGenerator node and an ImageGenerator node to be present, both with
    the same resolution, and the ImageGenerator node at RGB24 format.
    The application creates a histogram of the depth map and draws the frame using it to allow better visibility
    of the depth map.

    The following keys can be used to control the application:
    &lt;table&gt;
            &lt;tr&gt;
                &lt;th&gt;Key&lt;/th&gt;    &lt;th&gt;Description&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;1&lt;/td&gt;
                &lt;td&gt;
                    Converts to OVERLAY mode, drawing a depth map on top of the image map. It also sets the depth viewpoint
                    to the image viewpoint (using the AlternativeViewPoint capability).
                &lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;2&lt;/td&gt;
                &lt;td&gt;Draws only the depth map. It also turns off AlternativeViewPoint operation.&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;3&lt;/td&gt;
                &lt;td&gt;Draws only the image map. It also turns off AlternativeViewPoint operation.&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;Esc&lt;/td&gt;
                &lt;td&gt;Closes the application&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/table&gt;
</pre><h2><a class="anchor" id="niconvertxtooni"></a>
NiConvertXToONI for C++</h2>
<pre class="fragment">    NiConvertXToONI opens any recording, takes every node in the recording, and records it to a new ONI recording.
    It takes both the input file name and the output file name from the command line.
</pre><h2><a class="anchor" id="nirecordsynthetic"></a>
NiRecordSynthetic for C++</h2>
<pre class="fragment">    NiRecordSynthetic shows how to open a recording, perform some transformation on the data in it,
    and then re-record this data.
</pre><h2><a class="anchor" id="nibackrecorder"></a>
NiBackRecorder for C++</h2>
<pre class="fragment">    niBackRecorder is a command line tool, which stores frames in memory in a cyclic buffer,
    and when requested (clicking 'd') dumps that cyclic buffer to an ONI file.
    In effect, it saves the most recent x seconds (configurable).
</pre><h2><a class="anchor" id="nibackrecorder_usage"></a>
Usage</h2>
<div class="fragment"><div class="line">niBackRecorder time &lt;seconds&gt; [depth [qvga|vga]] [image [qvga|vga]] [verbose] [mirror &lt;on|off&gt;] [registration] [framesync] [outdir &lt;directory&gt;]</div>
</div><!-- fragment --><p>The following options are mandatory:</p>
<ul>
<li><b>time</b> Number of seconds to dump each time.</li>
</ul>
<p>The following options can be used:</p>
<ul>
<li><b>depth</b> Sets the resolution of the depth, to either QVGA or VGA. If not mentioned, depth is off. If no resolution is mentioned, QVGA is used.</li>
<li><b>image</b> Sets the resolution of the image, to either QVGA or VGA. If not mentioned, image is off. If no resolution is mentioned, QVGA is used.</li>
<li><b>verbose</b> Turns on the log.</li>
<li><b>mirror</b> Set the mirror mode. If not mentioned, uses whatever was configured.</li>
<li><b>registration</b> Change depth to match image.</li>
<li><b>framesync</b> Syncronize between depth and image.</li>
<li><b>outdir</b> Where to create the oni files. Default is the execution directory.</li>
</ul>
<p>Note: When designing your application it is important to consider the amount of memory used to store the frames. </p>
<table class="doxtable">
<tr>
<th>Configuration </th><th>Size  </th></tr>
<tr>
<td>1 second, QVGA depth </td><td>30*320*240*2B = 4500KB  </td></tr>
<tr>
<td>1 second, QVGA image </td><td>30*320*240*3B = 6750KB  </td></tr>
<tr>
<td>1 second, VGA depth </td><td>30*640*480*2B = 18000KB  </td></tr>
<tr>
<td>1 second, VGA image </td><td>30*640*480*3B = 27000KB  </td></tr>
</table>
<h2><a class="anchor" id="nirecordraw"></a>
NiRecordRaw for C++</h2>
<pre class="fragment">    NiRecordRaw is an OpenNI sample program for recording raw data, and then playing it back. Recording raw data may be useful for middleware developers who produce a custom type of data that isn't defined by OpenNI. In addition, recording raw data may also be useful for middleware developers who save additional debugging information in the ONI file. This additional data may be used in conjunction with the standard OpenNI data types such as depth output data stored in the file. In this case, each frame of debugging information will match a depth frame. 

    In this sample, the raw data is artificial data that the application itself synthesizes.
</pre><h2><a class="anchor" id="niaudiosample"></a>
NiAudioSample for C++</h2>
<pre class="fragment">    NiAudioSample is an OpenNI sample program for using the Audio interface. 

    It demonstrates an OpenNI production graph using an AudioGenerator node to play audio, reading the audio data from an audio input device. This sample also demonstrates recording the audio data to a PCM file.
</pre><h2><a class="anchor" id="nisimplereadjava"></a>
SimpleRead for C#/.NET</h2>
<pre class="fragment">    See NiSimpleRead for C++.
</pre><h2><a class="anchor" id="nisimplereadjava"></a>
SimpleRead for C#/.NET</h2>
<pre class="fragment">    See NiSimpleRead for C++.
</pre><h2><a class="anchor" id="nisimpleviewer"></a>
SimpleViewer for C#/.NET</h2>
<pre class="fragment">    See NiSimpleViewer for C++.
</pre><h2><a class="anchor" id="nisimpleviewer"></a>
SimpleViewer for C#/.NET</h2>
<pre class="fragment">    See NiSimpleViewer for C++.</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 13:40:21 for OpenNI 1.5.7 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
