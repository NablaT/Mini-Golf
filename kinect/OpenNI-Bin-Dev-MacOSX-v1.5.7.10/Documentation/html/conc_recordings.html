<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>OpenNI 1.5.7: Recordings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenNILogo.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNI 1.5.7
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">OpenNI Overview</a></li><li class="navelem"><a class="el" href="concepts.html">Concepts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Recordings </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Recordings are a powerful debug tool. It allows full capturing of the data and then later streaming it back so that application can simulate the exact same state they were in.</p>
<p>OpenNI supports recordings of the <em>Production Nodes</em> graph - both the entire configuration of each node, and a capturing of all the data that streamed from the node.</p>
<p>OpenNI has a framework for recording data and for playing it back (using <a class="el" href="conc_mocks.html">Mock Nodes</a>). It also comes with the <em>nimRecorder</em> module, which defines a new file format - .ONI - and implements a Recorder node and a Player node for this format.</p>
<h1><a class="anchor" id="record_rec"></a>
Making a Recording</h1>
<pre class="fragment">To record, an application should create a Recorder node, and set its 
destination (the file name to write to). Then, it needs to add to it 
every node it wants to record. When adding a node to the recorder, the 
recorder reads its configuration and records it. It also registers to 
every possible event of the node, so that when any configuration change 
takes place, it will also be recorded. 

Once all required nodes were added, the application can then read data 
from the nodes and record it. Recording of data can be acheived either 
by explicitly calling the @ref xnRecord() function, or by using one of 
the &lt;i&gt;UpdateAll&lt;/i&gt; functions (see @ref conc_updating_data). 

Applications that init OpenNI using an XML file can easily record their 
session without any change to the code. They simply need to create an 
additional node in the XML file for the recorder, add nodes to it, and 
when the application calls one of the &lt;i&gt;UpdateAll&lt;/i&gt; functions, 
recording will take place. 
</pre><h1><a class="anchor" id="record_play"></a>
Playing Back a Recording</h1>
<pre class="fragment">To play a file recording, use the @ref xnContextOpenFileRecording() 
function (@ref xn::Context::OpenFileRecording()). OpenNI will open the 
file, create a mock node for each node in the file, and fill it with the 
recorded configuration. 

Next, an application may take the nodes it needs by calling @ref 
xnFindExistingNodeByType(), and use them normally. Note that &lt;b&gt;nodes 
created by the player are locked for changes&lt;/b&gt;, as the configuration 
must remain the recorded configuration. 

Applications that init OpenNI using an XML file can easily replace 
their input so instead of reading from a real-time device they would 
read from a recording by simply replacing the nodes in the xml with a 
&lt;b&gt;Recording&lt;/b&gt; element (see @ref xmlrec). 
</pre><h1><a class="anchor" id="record_lim"></a>
Limitations</h1>
<pre class="fragment">In current version some limitations apply to recordings:

- Not all node types are supported for recording. Supported types are:
  - Device
  - Depth
  - Image
  - IR
  - Audio

- Opening more than one recording can cause undetermined behavior and is 
  not supported.

- Opening a recording and a real-time sensor can cause undetermined 
  behavior is not supported.</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 13:40:21 for OpenNI 1.5.7 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
